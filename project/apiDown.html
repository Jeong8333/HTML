<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script>
        /*http://api.kcisa.kr/openapi/CNV_060/request?serviceKey=6c01e70c-b7d5-45a8-87ad-9266be5e7ae9&numOfRows=20&pageNo=1&dtype=%EB%AE%A4%EC%A7%80%EC%BB%AC&title=%EC%95%8C%EB%9D%BC%EB%94%98*/
        /* Javascript Sample*/
            var xhr = new XMLHttpRequest();
            var url = 'http://api.kcisa.kr/openapi/CNV_060/request'; /*URL*/
            var queryParams = '?' + encodeURIComponent('serviceKey') + '=' + '6c01e70.c-b7d5-45a8-87ad-9266be5e7ae9'; /*서비스키*/
            queryParams += '&' + encodeURIComponent('numOfRows') + '=' + encodeURIComponent('10'); /*세션당 요청레코드수*/
            queryParams += '&' + encodeURIComponent('pageNo') + '=' + encodeURIComponent('1'); /*페이지수*/
            queryParams += '&' + encodeURIComponent('dtype') + '=' + encodeURIComponent('뮤지컬'); /*분류명(연극, 뮤지컬, 오페라, 음악, 콘서트, 국악, 무용, 전시, 기타)*/
            queryParams += '&' + encodeURIComponent('title') + '=' + encodeURIComponent('지킬앤하이드'); /*제목(2자이상)*/

            xhr.open('GET', url + queryParams);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {

                    console.log('status: ' + this.status);
                    console.log('resultCode: ' + $(this.responseText).find('resultCode').text());
                    console.log('resultMsg: ' + $(this.responseText).find('resultMsg').text());

                    var item = $(this.responseText).find('item');
                    $(item).each(function () {

                        console.log("title" + $(this).find("title").text());
                        console.log("type" + $(this).find("type").text());
                        console.log("period" + $(this).find("period").text());
                        console.log("eventPeriod" + $(this).find("eventPeriod").text());
                        console.log("eventSite" + $(this).find("eventSite").text());
                        console.log("charge" + $(this).find("charge").text());
                        console.log("contactPoint" + $(this).find("contactPoint").text());
                        console.log("url" + $(this).find("url").text());
                        console.log("imageObject" + $(this).find("imageObject").text());
                        console.log("description" + $(this).find("description").text());
                        console.log("viewCount" + $(this).find("viewCount").text());

                    });

                };

            }
            xhr.send('');
    </script>
</head>
<body>
    
</body>
</html>